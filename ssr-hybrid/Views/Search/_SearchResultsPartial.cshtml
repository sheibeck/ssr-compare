@model List<SsrHybrid.Models.Vehicle>
@{
    var resultsJson = System.Text.Json.JsonSerializer.Serialize(Model.Select(v => new
    {
        id = v.Id,
        make = v.Make,
        model = v.Model,
        year = v.Year,
        price = v.Price,
        imageUrl = v.ImageUrl
    }));
}

<!-- Embed data for Vue re-hydration -->
<div data-island="search-results" 
     data-props='@Html.Raw(resultsJson)'>
@if (Model.Any())
{
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem;">
        @foreach (var vehicle in Model)
        {
            <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; overflow: hidden;">
                <div style="width: 100%; height: 200px; background: #f0f0f0; display: flex; align-items: center; justify-content: center;">
                    @if (!string.IsNullOrEmpty(vehicle.ImageUrl))
                    {
                        <img src="@vehicle.ImageUrl" alt="@vehicle.Year @vehicle.Make @vehicle.Model" style="width: 100%; height: 100%; object-fit: cover;" />
                    }
                    else
                    {
                        <span style="color: #999;">No Image</span>
                    }
                </div>
                <div style="padding: 1rem;">
                    <h4 style="margin: 0 0 0.5rem 0;">@vehicle.Year @vehicle.Make @vehicle.Model</h4>
                    <p style="font-size: 1.25rem; font-weight: bold; color: #4CAF50; margin: 0.5rem 0;">@vehicle.Price.ToString("C0")</p>
                    <button style="width: 100%; padding: 0.75rem; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer;">View Details</button>
                </div>
            </div>
        }
    </div>
}
else
{
    <div style="text-align: center; padding: 3rem; background: #f9f9f9; border-radius: 8px;">
        <p>No vehicles found matching your criteria.</p>
    </div>
}
</div>
